"use strict";(self["webpackChunkE_Coffee"]=self["webpackChunkE_Coffee"]||[]).push([[377],{7377:function(e,r,s){s.r(r),s.d(r,{default:function(){return v}});var t=s(6768),o=s(4232);const a={class:"user-profile"},u={key:0,class:"profile-details"},l={key:1},n={key:2},i={class:"error"},d={key:3,class:"buttons"},g=["disabled"];function c(e,r,s,c,h,k){return(0,t.uX)(),(0,t.CE)("div",a,[h.userData&&!h.errorMessage?((0,t.uX)(),(0,t.CE)("div",u,[r[7]||(r[7]=(0,t.Lk)("h1",null,"User Profile",-1)),(0,t.Lk)("p",null,[r[2]||(r[2]=(0,t.Lk)("strong",null,"Name:",-1)),(0,t.eW)(" "+(0,o.v_)(h.userData.name),1)]),(0,t.Lk)("p",null,[r[3]||(r[3]=(0,t.Lk)("strong",null,"Surname:",-1)),(0,t.eW)(" "+(0,o.v_)(h.userData.surname),1)]),(0,t.Lk)("p",null,[r[4]||(r[4]=(0,t.Lk)("strong",null,"Email:",-1)),(0,t.eW)(" "+(0,o.v_)(h.userData.email),1)]),(0,t.Lk)("p",null,[r[5]||(r[5]=(0,t.Lk)("strong",null,"Phone:",-1)),(0,t.eW)(" "+(0,o.v_)(h.userData.phone),1)]),(0,t.Lk)("p",null,[r[6]||(r[6]=(0,t.Lk)("strong",null,"Address:",-1)),(0,t.eW)(" "+(0,o.v_)(h.userData.address),1)])])):h.loading?((0,t.uX)(),(0,t.CE)("div",l,r[8]||(r[8]=[(0,t.Lk)("p",null,"Loading user data...",-1)]))):h.errorMessage?((0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("p",i,(0,o.v_)(h.errorMessage),1)])):(0,t.Q3)("",!0),h.loading?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("button",{onClick:r[0]||(r[0]=(...e)=>k.logout&&k.logout(...e))},"Logout"),(0,t.Lk)("button",{onClick:r[1]||(r[1]=(...e)=>k.goToEditProfile&&k.goToEditProfile(...e)),disabled:!h.userData},"Edit Profile",8,g)]))])}s(4114);var h=s(1394),k=s(7617),f={data(){return{userData:null,userId:null,loading:!0,errorMessage:""}},async mounted(){const e=h.j.currentUser;e?(this.userId=e.uid,await this.loadUserData()):(this.errorMessage="User is not logged in. Redirecting to login page.",setTimeout((()=>this.$router.push("/login")),3e3))},methods:{async loadUserData(){try{const e=(0,k.H9)(h.db,"users",this.userId),r=await(0,k.x7)(e);r.exists()?this.userData=r.data():this.errorMessage=`No user data found for UID: ${this.userId}`}catch(e){this.errorMessage="Failed to fetch user data.",console.error("Error fetching user data:",e)}finally{this.loading=!1}},logout(){h.j.signOut().then((()=>this.$router.push("/"))).catch((e=>{console.error("Error during logout:",e),this.errorMessage="Failed to log out. Please try again."}))},goToEditProfile(){this.$router.push({name:"EditProfile"})}}},p=s(1241);const L=(0,p.A)(f,[["render",c],["__scopeId","data-v-2ceb67f6"]]);var v=L}}]);
//# sourceMappingURL=377.d6cfe4f5.js.map