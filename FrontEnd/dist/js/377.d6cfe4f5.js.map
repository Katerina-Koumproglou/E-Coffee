{"version":3,"file":"js/377.d6cfe4f5.js","mappings":"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","sources":["webpack://E-Coffee/./src/views/UserProfile.vue","webpack://E-Coffee/./src/views/UserProfile.vue?5f8e"],"sourcesContent":["<template>\r\n    <div class=\"user-profile\">\r\n        <div v-if=\"userData && !errorMessage\" class=\"profile-details\">\r\n            <h1>User Profile</h1>\r\n            <p><strong>Name:</strong> {{ userData.name }}</p>\r\n            <p><strong>Surname:</strong> {{ userData.surname }}</p>\r\n            <p><strong>Email:</strong> {{ userData.email }}</p>\r\n            <p><strong>Phone:</strong> {{ userData.phone }}</p>\r\n            <p><strong>Address:</strong> {{ userData.address }}</p>\r\n        </div>\r\n        <div v-else-if=\"loading\">\r\n            <p>Loading user data...</p>\r\n        </div>\r\n        <div v-else-if=\"errorMessage\">\r\n            <p class=\"error\">{{ errorMessage }}</p>\r\n        </div>\r\n        <div class=\"buttons\" v-if=\"!loading\">\r\n            <button @click=\"logout\">Logout</button>\r\n            <button @click=\"goToEditProfile\" :disabled=\"!userData\">Edit Profile</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { auth, db } from \"@/firebase\";\r\n    import { doc, getDoc } from \"firebase/firestore\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                userData: null,\r\n                userId: null,\r\n                loading: true,\r\n                errorMessage: \"\",\r\n            };\r\n        },\r\n        async mounted() {\r\n            const user = auth.currentUser;\r\n            if (user) {\r\n                this.userId = user.uid;\r\n                await this.loadUserData();\r\n            } else {\r\n                this.errorMessage = \"User is not logged in. Redirecting to login page.\";\r\n                setTimeout(() => this.$router.push(\"/login\"), 3000);\r\n            }\r\n        },\r\n        methods: {\r\n            async loadUserData() {\r\n                try {\r\n                    const userRef = doc(db, \"users\", this.userId);\r\n                    const userDoc = await getDoc(userRef);\r\n                    if (userDoc.exists()) {\r\n                        this.userData = userDoc.data();\r\n                    } else {\r\n                        this.errorMessage = `No user data found for UID: ${this.userId}`;\r\n                    }\r\n                } catch (error) {\r\n                    this.errorMessage = \"Failed to fetch user data.\";\r\n                    console.error(\"Error fetching user data:\", error);\r\n                } finally {\r\n                    this.loading = false;\r\n                }\r\n            },\r\n            logout() {\r\n                auth.signOut()\r\n                    .then(() => this.$router.push(\"/\"))\r\n                    .catch((error) => {\r\n                        console.error(\"Error during logout:\", error);\r\n                        this.errorMessage = \"Failed to log out. Please try again.\";\r\n                    });\r\n            },\r\n            goToEditProfile() {\r\n                this.$router.push({ name: \"EditProfile\" });\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .user-profile {\r\n        max-width: 400px;\r\n        margin: auto;\r\n        padding: 20px;\r\n        border-radius: 8px;\r\n        background-color: #5D2D05;\r\n        color: #FAEBD7;\r\n    }\r\n\r\n    h1 {\r\n        text-align: center;\r\n        color: #FAEBD7;\r\n    }\r\n\r\n    .profile-details p {\r\n        font-size: 18px;\r\n        margin: 10px 0;\r\n    }\r\n\r\n    .error {\r\n        color: #ff6b6b;\r\n        font-weight: bold;\r\n        text-align: center;\r\n    }\r\n\r\n    .buttons {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 20px;\r\n    }\r\n\r\n    button {\r\n        background-color: #FAEBD7;\r\n        color: #5D2D05;\r\n        padding: 10px;\r\n        border: none;\r\n        border-radius: 5px;\r\n        cursor: pointer;\r\n        width: 45%;\r\n        font-size: 16px;\r\n    }\r\n\r\n        button:disabled {\r\n            background-color: #b2a59d;\r\n            cursor: not-allowed;\r\n        }\r\n\r\n        button:hover {\r\n            background-color: #D5B28B;\r\n        }\r\n</style>\r\n","import { render } from \"./UserProfile.vue?vue&type=template&id=2ceb67f6&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=2ceb67f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ceb67f6\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","$data","userData","errorMessage","_hoisted_2","_createElementVNode","_createTextVNode","_toDisplayString","name","surname","email","phone","address","loading","_hoisted_3","_cache","_hoisted_4","_hoisted_5","_createCommentVNode","_hoisted_6","onClick","args","$options","logout","goToEditProfile","disabled","_hoisted_7","data","userId","mounted","user","auth","currentUser","this","uid","loadUserData","setTimeout","$router","push","methods","userRef","doc","db","userDoc","getDoc","exists","error","console","signOut","then","catch","__exports__","render"],"sourceRoot":""}